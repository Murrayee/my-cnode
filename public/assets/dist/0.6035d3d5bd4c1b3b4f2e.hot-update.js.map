{"version":3,"sources":["webpack:///./public/components/Article/Article.js?d5de","webpack:///./public/actions/actions.js?d598"],"names":["Article","displayName","state","a","props","scrollT","dispatch","article","isFetching","params","window","scrollTo","author","topicId","id","currentTopicId","__html","content","Component","mapStateToProps","REQUEST_TOPICS","RECEIVE_TOPICS","SELECT_TAB","RECORD_SCROLLT","REQUEST_ARTICLE","RECEIVE_ARTICLE","CHANGE_CURRENT_TOPICID","CURRENT_ROUTER","LOGIN_SUCCESS","LOGIN_FAILED","LOGOUT","REQUEST_PROFILE","RECEIVE_PROFILE","SWITCH_SUPPORT","FETCH_COMMENT","SWITCH_COLLECTED","RECORD_ARTICLE_SCROLLT","PUBLISH_TOPIC","FETCH_MESSAGE","MARK_ALL_MESSAGES","GET_COLLECTED_TOPICS","TODO_LIST","todoAction","type","selectTab","tab","requestTopics","receiveTopics","topics","page","limit","recordScrollT","fetchTopics","then","response","json","data","requestArticle","receiveArticle","changeCurrentTopicId","recordArticleScrollT","fetchArticle","request"],"mappings":"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","file":"0.6035d3d5bd4c1b3b4f2e.hot-update.js","sourcesContent":["\r\nimport React from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {connect} from \"react-redux\"\r\nimport {fetchArticle,recordArticleScrollT} from '../../actions/actions'\r\nclass Article extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.displayName=\"Article\";\r\n        this.state={\r\n            a:\"我是文章详情\"\r\n        }\r\n    }\r\n    componentWillMount(){\r\n        const {scrollT,dispatch,article,isFetching,params} = this.props;\r\n        if(scrollT){\r\n            window.scrollTo(0,scrollT)\r\n        }\r\n        if(!article.author && !isFetching){\r\n            const topicId = params.id;\r\n            dispatch(fetchArticle(topicId))\r\n        }\r\n    }\r\n    render(){\r\n        const {article ,currentTopicId}=this.props;\r\n        return (\r\n            <div>\r\n                <div  dangerouslySetInnerHTML={{__html: article.content}}></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    const article = state.article ;\r\n    return {article}\r\n}\r\nexport default  connect(mapStateToProps)(Article)\n\n\n// WEBPACK FOOTER //\n// ./public/components/Article/Article.js","import fetch from 'isomorphic-fetch'\r\nimport {EventEmitter} from 'events';\r\nimport assign from 'object-assign';\r\n//action的类型\r\nexport const REQUEST_TOPICS = 'REQUEST_TOPICS';\r\nexport const RECEIVE_TOPICS = 'RECEIVE_TOPICS';\r\nexport const SELECT_TAB= 'SELECT_TAB';\r\nexport const RECORD_SCROLLT='RECORD_SCROLLT';\r\nexport const REQUEST_ARTICLE = 'REQUEST_ARTICLE';\r\nexport const RECEIVE_ARTICLE = 'RECEIVE_ARTICLE';\r\nexport const CHANGE_CURRENT_TOPICID = 'CHANGE_CURRENT_TOPICID';\r\nexport const CURRENT_ROUTER = 'CURRENT_ROUTER';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const REQUEST_PROFILE = 'REQUEST_PROFILE';\r\nexport const RECEIVE_PROFILE = 'RECEIVE_PROFILE';\r\nexport const SWITCH_SUPPORT = 'SWITCH_SUPPORT';\r\nexport const FETCH_COMMENT = 'FETCH_COMMENT';\r\nexport const SWITCH_COLLECTED = 'SWITCH_COLLECTED';\r\nexport const RECORD_ARTICLE_SCROLLT = 'RECORD_ARTICLE_SCROLLT';\r\nexport const PUBLISH_TOPIC = 'PUBLISH_TOPIC';\r\nexport const FETCH_MESSAGE = 'FETCH_MESSAGE';\r\nexport const MARK_ALL_MESSAGES = 'MARK_ALL_MESSAGES';\r\nexport const GET_COLLECTED_TOPICS = 'GET_COLLECTED_TOPICS';\r\n//练习\r\nexport const TODO_LIST = \"TODO_LIST\";\r\nexport const todoAction = {\r\n    type: TODO_LIST\r\n};\r\n// homePage\r\nexport const selectTab = tab => ({\r\n    type:SELECT_TAB, tab\r\n});\r\n\r\nconst requestTopics = tab => ({\r\n    type:REQUEST_TOPICS,\r\n    tab\r\n});\r\n\r\nconst receiveTopics = (tab,topics,page,limit) => ({\r\n    type:RECEIVE_TOPICS,\r\n    tab,\r\n    topics,\r\n    page,\r\n    limit\r\n});\r\nexport const recordScrollT = (tab,scrollT) => {\r\n    return ({\r\n        type:RECORD_SCROLLT,\r\n        tab,\r\n        scrollT\r\n    })\r\n};\r\nexport const fetchTopics = (tab,page=1,limit=20) => {\r\n    return dispatch => {\r\n        dispatch(requestTopics(tab));\r\n        fetch(`https://cnodejs.org/api/v1/topics?tab=${tab}&page=${page}&limit=${limit}`)\r\n            .then(response => response.json())\r\n            .then(json => dispatch(receiveTopics(tab,json.data,page,limit)) )\r\n    }\r\n};\r\n\r\n\r\n// Article\r\nconst requestArticle = (topicId) => ({\r\n    type:REQUEST_ARTICLE,\r\n    topicId\r\n});\r\nconst receiveArticle = (topicId,article) => ({\r\n    type:RECEIVE_ARTICLE,\r\n    topicId,\r\n    article\r\n});\r\nconst changeCurrentTopicId = topicId => ({\r\n    type:CHANGE_CURRENT_TOPICID,\r\n    topicId\r\n});\r\n\r\nexport const recordArticleScrollT = (topicId,scrollT) => ({\r\n    type:RECORD_ARTICLE_SCROLLT,\r\n    topicId,\r\n    scrollT\r\n});\r\nexport const fetchArticle = (topicId,request=true) => {\r\n    return dispatch => {\r\n        if(request){\r\n            dispatch(requestArticle(topicId));\r\n            fetch(`https://cnodejs.org/api/v1/topic/${topicId}`)\r\n                .then(response => response.json())\r\n                .then(json => dispatch(receiveArticle(topicId,json.data)))\r\n        }else{\r\n            dispatch(changeCurrentTopicId(topicId))\r\n        }\r\n    }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/actions/actions.js"],"sourceRoot":""}