{"version":3,"sources":["webpack:///./public/reducers/HomePage.js?0cd4"],"names":["tabDataItem","state","isFetching","page","scrollT","topics","action","type","concat","limit","tabData","tab","homePage","selectedTab","sTab","tData"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;AACA,UAASA,WAAT,GAAqF;AAAA,SAA/DC,KAA+D,uEAAvD,EAACC,YAAW,KAAZ,EAAkBC,MAAK,CAAvB,EAAyBC,SAAQ,CAAjC,EAAmCC,QAAO,EAA1C,EAAuD;AAAA,SAARC,MAAQ;;AACjF,aAAQA,OAAOC,IAAf;AACI;AACI,iCACON,KADP;AAEIC,6BAAY;AAFhB;AAIJ;AACI,iBAAGD,MAAME,IAAN,GAAaG,OAAOH,IAAvB,EAA4B;AACxB,qBAAIE,SAASJ,MAAMI,MAAnB;AACAC,wBAAOD,MAAP,GAAgBA,OAAOG,MAAP,CAAcF,OAAOD,MAArB,CAAhB;AACH;AACD,iCACOJ,KADP;AAEIC,6BAAY,KAFhB;AAGIC,uBAAKG,OAAOH,IAHhB;AAIIE,yBAAOC,OAAOD,MAJlB;AAKII,wBAAMH,OAAOG;AALjB;AAOJ;AACI,iCACOR,KADP;AAEIG,0BAAQE,OAAOF;AAFnB;AAIJ;AACI,oBAAOH,KAAP;AAxBR;AA0BH;;AAED,KAAMS,UAAU,SAAVA,OAAU,GAAyB;AAAA,SAAxBT,KAAwB,uEAAhB,EAAgB;AAAA,SAAXK,MAAW;;AACrC,aAAQA,OAAOC,IAAf;AACI;AACA;AACA;AACI,iCACON,KADP,sBAEKK,OAAOK,GAFZ,EAEkBX,YAAYC,MAAMK,OAAOK,GAAb,CAAZ,EAA+BL,MAA/B,CAFlB;AAIJ;AACI,oBAAOL,KAAP;AATR;AAWH,EAZD;;AAcA,KAAMW,WAAW,SAAXA,QAAW,GAAiD;AAAA,SAAhDX,KAAgD,uEAA1C,EAACY,aAAY,KAAb,EAAmBH,SAAQ,EAA3B,EAA0C;AAAA,SAAXJ,MAAW;;AAC9D,SAAGL,KAAH,EAAS;AACL,aAAMa,OAAOD,YAAYZ,MAAMY,WAAlB,EAA8BP,MAA9B,CAAb;AACA,aAAMS,QAAQL,QAAQT,MAAMS,OAAd,EAAsBJ,MAAtB,CAAd;AACA;AACA,6BAAWL,KAAX,IAAkBY,aAAYC,IAA9B,EAAmCJ,SAAQK,KAA3C;AACH;AACD,YAAOd,KAAP;AAEH,EATD;;mBAWeW,Q","file":"0.17aa19c8bc4e71ce26b3.hot-update.js","sourcesContent":["import {SELECT_TAB, REQUEST_TOPICS, RECEIVE_TOPICS,RECORD_SCROLLT} from \"../actions/actions\";\r\n//\r\nfunction tabDataItem (state = {isFetching:false,page:0,scrollT:0,topics:[]}, action) {\r\n    switch (action.type) {\r\n        case REQUEST_TOPICS:\r\n            return {\r\n                ...state,\r\n                isFetching: true\r\n            };\r\n        case RECEIVE_TOPICS:\r\n            if(state.page < action.page){\r\n                let topics = state.topics;\r\n                action.topics = topics.concat(action.topics)\r\n            }\r\n            return {\r\n                ...state,\r\n                isFetching: false,\r\n                page:action.page,\r\n                topics:action.topics,\r\n                limit:action.limit\r\n            }\r\n        case RECORD_SCROLLT:\r\n            return {\r\n                ...state,\r\n                scrollT:action.scrollT\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst tabData = (state = { }, action) => {\r\n    switch (action.type) {\r\n        case RECEIVE_TOPICS:\r\n        case REQUEST_TOPICS:\r\n        case RECORD_SCROLLT:\r\n            return {\r\n                ...state,\r\n                [action.tab]: tabDataItem(state[action.tab], action)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst homePage = (state={selectedTab:'all',tabData:{}},action) => {\r\n    if(state){\r\n        const sTab = selectedTab(state.selectedTab,action);\r\n        const tData = tabData(state.tabData,action);\r\n        // 返回的一定要是一个新的对象，如果只是改变原来的state,返回的还是原来的state对象,就无法被store.subscribe监听到，从而不会对组件状态进行更新\r\n        return {...state, selectedTab:sTab,tabData:tData}\r\n    }\r\n    return state\r\n\r\n};\r\n\r\nexport default homePage;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/reducers/HomePage.js"],"sourceRoot":""}