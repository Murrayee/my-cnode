{"version":3,"sources":["webpack:///./public/components/HomePage/HomePage.js?6bc8","webpack:///./public/components/Common/Lists/Lists.js?83d4"],"names":["HomePage","props","displayName","state","isFreshing","tabs","title","filter","handleClick","tab","selectedTab","dispatch","newProps","topics","isFetching","scrollT","length","map","index","Component","mapStateToProps","homePage","tabData","page","styles","link","display","textDecoration","iconButtonElement","rightIconMenu","Lists","console","log","color"],"mappings":"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","file":"0.a80de0de481efb9cf1e8.hot-update.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/2/14.\r\n */\r\nimport React, {Component, PropTypes}  from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {Link} from 'react-router'\r\nimport {selectTab,fetchTopics,recordScrollT} from '../../actions/actions'\r\nimport {connect} from 'react-redux'\r\nimport Header from \"../Common/Header/Header\"\r\nimport Lists from \"../Common/Lists/Lists\"\r\nclass HomePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.displayName = \"HomePage\";\r\n        this.state = {\r\n            isFreshing:false,\r\n        };\r\n        this.tabs = [\r\n            {\r\n                title: '全部',\r\n                filter: 'all',\r\n            },\r\n            {\r\n                title: '精华',\r\n                filter: 'good',\r\n            },\r\n            {\r\n                title: '分享',\r\n                filter: 'share',\r\n            },\r\n            {\r\n                title: '问答',\r\n                filter: 'ask',\r\n            },\r\n            {\r\n                title: '招聘',\r\n                filter: 'job',\r\n            }\r\n        ];\r\n        this.handleClick = (tab) => {\r\n            const {selectedTab,dispatch} = this.props;\r\n            dispatch(selectTab(tab));\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        const {topics,selectedTab,isFetching,dispatch,scrollT} = newProps;\r\n        // fetchTopics开始后会先发送一个request的action,这个ation也会改变state从而触发该方法。如果不对isFetching进行判断，会再次进行fetchTopics从而进行了不必要的重复数据请求\r\n        if(!isFetching && topics.length === 0){\r\n            dispatch(fetchTopics(selectedTab));\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const {selectedTab,dispatch,topics}=this.props;\r\n        return (\r\n            <div>\r\n                <Header tabs={this.tabs} filter={selectedTab} onClick={this.handleClick} >\r\n                    {this.tabs.map((tab, index) =>\r\n                    <div  key={index}>\r\n                        <Lists topics={topics}/>\r\n                    </div>\r\n                    )}\r\n                </Header>\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount(){\r\n        const {selectedTab,dispatch} = this.props;\r\n\r\n        dispatch(fetchTopics(selectedTab));\r\n\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const {homePage} = state;\r\n    const {selectedTab,tabData} = homePage;\r\n    const {isFetching,page,scrollT,topics} = tabData[selectedTab] || {isFetching:false,page:0,scrollT:0,topics:[]};\r\n\r\n    // 当组件第一次render时,还未进行任何action,初始化的state里没有tabData[selectedTab]，所以这里需要初始化\r\n    return {selectedTab,tabData,isFetching,page,scrollT,topics}\r\n}\r\nexport default connect(mapStateToProps) (HomePage)\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/components/HomePage/HomePage.js","import React from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {List, ListItem} from 'material-ui/List';\r\nimport Divider from 'material-ui/Divider';\r\nimport {Link} from 'react-router'\r\nimport Subheader from 'material-ui/Subheader';\r\nimport Avatar from 'material-ui/Avatar';\r\nimport {grey400, darkBlack, lightBlack} from 'material-ui/styles/colors';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\r\nimport IconMenu from 'material-ui/IconMenu';\r\nimport MenuItem from 'material-ui/MenuItem'\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport prefix from '../../../utils/routePrefix';\r\n\r\nconst styles={\r\n    link:{\r\n        display:\"block\",\r\n        textDecoration:\"none\"\r\n    }\r\n};\r\nconst iconButtonElement = (\r\n    <IconButton\r\n        touch={true}\r\n        tooltip=\"more\"\r\n        tooltipPosition=\"bottom-left\"\r\n    >\r\n        <MoreVertIcon color={grey400}/>\r\n    </IconButton>\r\n);\r\n\r\nconst rightIconMenu = (\r\n    <IconMenu iconButtonElement={iconButtonElement}>\r\n        <MenuItem>Reply</MenuItem>\r\n        <MenuItem>Forward</MenuItem>\r\n        <MenuItem>Delete</MenuItem>\r\n    </IconMenu>\r\n);\r\nclass Lists extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.displayName = \"Lists\";\r\n    }\r\n\r\n    componentWillMount(){\r\n        console.log(this.props)\r\n    }\r\n    render() {\r\n        return (\r\n            <SwipeableViews>\r\n                <List>\r\n                    <Link to={`${prefix}/Article`} style={styles.link}>\r\n                        <ListItem\r\n                            leftAvatar={<Avatar src=\"./public/assets/images/img.png\"/>}\r\n                            primaryText=\"Brunch this weekend?\"\r\n                            secondaryText={\r\n                                <p>\r\n                                    <span style={{color: darkBlack}}>Brendan Lim</span> --\r\n                                    I&apos;ll be in your neighborhood doing errands this weekend. Do you want to grab\r\n                                    brunch?\r\n                                </p>\r\n                            }\r\n                            secondaryTextLines={2}\r\n                        />\r\n                        <Divider inset={true}/>\r\n                    </Link>\r\n\r\n                </List>\r\n            </SwipeableViews>\r\n        )\r\n    }\r\n}\r\nexport default  Lists\n\n\n// WEBPACK FOOTER //\n// ./public/components/Common/Lists/Lists.js"],"sourceRoot":""}