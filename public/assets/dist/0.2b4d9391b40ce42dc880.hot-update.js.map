{"version":3,"sources":["webpack:///./public/components/HomePage/HomePage.js?6bc8"],"names":["HomePage","props","displayName","state","tabs","title","filter","handleClick","tab","selectedTab","dispatch","newProps","topics","console","log","map","index","Component","mapStateToProps","homePage","tabData"],"mappings":";;;;;;;;;;;;;AAGA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AACA;;;;;;;;;;gfATA;;;;;KAUMA,Q;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA,yHACTA,KADS;;AAEf,eAAKC,WAAL,GAAmB,UAAnB;AACA,eAAKC,KAAL,GAAa,EAAb;AACA,eAAKC,IAAL,GAAY,CACR;AACIC,oBAAO,IADX;AAEIC,qBAAQ;AAFZ,UADQ,EAKR;AACID,oBAAO,IADX;AAEIC,qBAAQ;AAFZ,UALQ,EASR;AACID,oBAAO,IADX;AAEIC,qBAAQ;AAFZ,UATQ,EAaR;AACID,oBAAO,IADX;AAEIC,qBAAQ;AAFZ,UAbQ,EAiBR;AACID,oBAAO,IADX;AAEIC,qBAAQ;AAFZ,UAjBQ,CAAZ;AAsBA,eAAKC,WAAL,GAAmB,UAACC,GAAD,EAAS;AAAA,+BACO,MAAKP,KADZ;AAAA,iBACjBQ,WADiB,eACjBA,WADiB;AAAA,iBACLC,QADK,eACLA,QADK;;AAExBA,sBAAS,wBAAUF,GAAV,CAAT;AACA;AACH,UAJD;AA1Be;AA+BlB;;;;8CACmB,CAEnB;;;mDACyBG,Q,EAAS;AAC/B;AAD+B,iBAExBC,MAFwB,GAEOD,QAFP,CAExBC,MAFwB;AAAA,iBAEjBH,WAFiB,GAEOE,QAFP,CAEjBF,WAFiB;AAAA,iBAELC,QAFK,GAEOC,QAFP,CAELD,QAFK;;AAG/BG,qBAAQC,GAAR,CAAYH,QAAZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;;6CACkB;AAAA,0BACgB,KAAKV,KADrB;AAAA,iBACRQ,WADQ,UACRA,WADQ;AAAA,iBACIC,QADJ,UACIA,QADJ;;;AAGXA,sBAAS,0BAAYD,WAAZ,CAAT;AAEP;;;kCAEQ;AAAA,2BAC+B,KAAKR,KADpC;AAAA,iBACEQ,WADF,WACEA,WADF;AAAA,iBACcC,QADd,WACcA,QADd;AAAA,iBACuBE,MADvB,WACuBA,MADvB;;AAEL,oBACI;AAAA;AAAA;AACI;AAAA;AAAA,uBAAQ,MAAM,KAAKR,IAAnB,EAAyB,QAAQK,WAAjC,EAA8C,SAAS,KAAKF,WAA5D;AACK,0BAAKH,IAAL,CAAUW,GAAV,CAAc,UAACP,GAAD,EAAMQ,KAAN;AAAA,gCACf;AAAA;AAAA,+BAAM,KAAKA,KAAX;AACI,8EAAO,QAAQJ,MAAf;AADJ,0BADe;AAAA,sBAAd;AADL;AADJ,cADJ;AAWH;;;;GA1EkB,gBAAMK,S;;AA6E7B,UAASC,eAAT,CAAyBf,KAAzB,EAAgC;AAAA,SACrBgB,QADqB,GACThB,KADS,CACrBgB,QADqB;AAAA,SAErBV,WAFqB,GAEEU,QAFF,CAErBV,WAFqB;AAAA,SAETW,OAFS,GAEED,QAFF,CAETC,OAFS;AAG5B;;AACA,YAAO,EAACX,wBAAD,EAAaW,gBAAb,EAAP;AACH;mBACc,yBAAQF,eAAR,EAA0BlB,QAA1B,C","file":"0.2b4d9391b40ce42dc880.hot-update.js","sourcesContent":["/**\r\n * Created by Administrator on 2017/2/14.\r\n */\r\nimport React, {Component, PropTypes}  from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {Link} from 'react-router'\r\nimport {selectTab,fetchTopics,recordScrollT} from '../../actions/actions'\r\nimport {connect} from 'react-redux'\r\nimport Header from \"../Common/Header/Header\"\r\nimport Lists from \"../Common/Lists/Lists\"\r\nclass HomePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.displayName = \"HomePage\";\r\n        this.state = {};\r\n        this.tabs = [\r\n            {\r\n                title: '全部',\r\n                filter: 'all',\r\n            },\r\n            {\r\n                title: '精华',\r\n                filter: 'good',\r\n            },\r\n            {\r\n                title: '分享',\r\n                filter: 'share',\r\n            },\r\n            {\r\n                title: '问答',\r\n                filter: 'ask',\r\n            },\r\n            {\r\n                title: '招聘',\r\n                filter: 'job',\r\n            }\r\n        ];\r\n        this.handleClick = (tab) => {\r\n            const {selectedTab,dispatch} = this.props;\r\n            dispatch(selectTab(tab));\r\n            // dispatch(fetchTopics(selectedTab));\r\n        }\r\n    }\r\n    componentWillMount(){\r\n\r\n    }\r\n    componentWillReceiveProps(newProps){\r\n        // console.log('componentWillReceiveProps',getSize().scrollT)\r\n        const {topics,selectedTab,dispatch} = newProps;\r\n        console.log(newProps);\r\n        // // 去除刷新时记住的滚动条位置\r\n        // if(topics.length === 0 && this.props.scrollT === 0){\r\n        //     window.scrollTo(0,0)\r\n        // }\r\n        // // fetchTopics开始后会先发送一个request的action,这个ation也会改变state从而触发该方法。如果不对isFetching进行判断，会再次进行fetchTopics从而进行了不必要的重复数据请求\r\n        // if(!isFetching && topics.length === 0){\r\n        //     dispatch(fetchTopics(selectedTab));\r\n        // }\r\n        // if(selectedTab !== this.props.selectedTab){\r\n        //     if(scrollT){\r\n        //         window.scrollTo(0,scrollT)\r\n        //     }\r\n        // }\r\n    }\r\n    componentDidMount(){\r\n        const {selectedTab,dispatch} = this.props;\r\n\r\n            dispatch(fetchTopics(selectedTab));\r\n\r\n    }\r\n\r\n    render() {\r\n        const {selectedTab,dispatch,topics}=this.props;\r\n        return (\r\n            <div>\r\n                <Header tabs={this.tabs} filter={selectedTab} onClick={this.handleClick} >\r\n                    {this.tabs.map((tab, index) =>\r\n                    <div  key={index}>\r\n                        <Lists topics={topics}/>\r\n                    </div>\r\n                    )}\r\n                </Header>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const {homePage} = state;\r\n    const {selectedTab,tabData} = homePage;\r\n    // 当组件第一次render时,还未进行任何action,初始化的state里没有tabData[selectedTab]，所以这里需要初始化\r\n    return {selectedTab,tabData}\r\n}\r\nexport default connect(mapStateToProps) (HomePage)\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/components/HomePage/HomePage.js"],"sourceRoot":""}